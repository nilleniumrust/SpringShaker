"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[395],{1198:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>a,contentTitle:()=>l,default:()=>o,frontMatter:()=>d,metadata:()=>r,toc:()=>h});const r=JSON.parse('{"type":"mdx","permalink":"/SpringShaker/","source":"@site/pages/index.md","title":"SpringShaker","description":"A physics-based camera shaker for Roblox built on a damped harmonic oscillator \u2014 giving shakes real weight, momentum, and natural decay.","frontMatter":{},"unlisted":false}');var i=s(4848),t=s(8453);const d={},l="SpringShaker",a={},h=[{value:"Installation",id:"installation",level:2},{value:"Usage",id:"usage",level:2},{value:"Custom Shakes",id:"custom-shakes",level:2},{value:"Presets",id:"presets",level:2},{value:"Performance",id:"performance",level:2},{value:"SpringShaker native vs non-native",id:"springshaker-native-vs-non-native",level:3},{value:"Three-way comparison (all with <code>--!native</code>)",id:"three-way-comparison-all-with---native",level:3},{value:"Memory at 1000 instances",id:"memory-at-1000-instances",level:3},{value:"References",id:"references",level:2},{value:"Special Thanks",id:"special-thanks",level:2}];function c(e){const n={a:"a",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"springshaker",children:"SpringShaker"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"A physics-based camera shaker for Roblox built on a damped harmonic oscillator \u2014 giving shakes real weight, momentum, and natural decay."}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Traditional camera shakers scale Perlin noise by a fade envelope and call it a day. SpringShaker drives each shake through a damped harmonic oscillator \u2014 the same math that governs real pendulums and spring systems. Explosions ring out naturally, earthquakes swell and bleed off over time, and impacts feel physically grounded rather than scripted."}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"installation",children:"Installation"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Roblox Marketplace"})," \u2014 ",(0,i.jsx)(n.a,{href:"https://create.roblox.com/store/asset/72358969628018/SpringShaker",children:"Get SpringShaker"})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"GitHub"})," \u2014 ",(0,i.jsx)(n.a,{href:"https://github.com/nilleniumrust/SpringShaker/releases",children:"Latest Release"})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Wally:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-toml",children:'[dependencies]\nSpringShaker = "nilleniumrust/springshaker@1.1.2"\n'})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsxs)(n.p,{children:["\u26a0\ufe0f SpringShaker is ",(0,i.jsx)(n.strong,{children:"client-only"}),". Do not place it in server-side DataModel services."]}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"usage",children:"Usage"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:'local ReplicatedStorage = game:GetService("ReplicatedStorage")\nlocal SpringShaker = require(ReplicatedStorage.src.SpringShaker)\n\n-- Sustained earthquake until manually stopped\nSpringShaker:ShakeSustained(SpringShaker:GetPreset("Earthquake"))\n\ntask.delay(5, function()\n    SpringShaker:HaltDurationWise(1) -- smooth 1 second fade out\nend)\n'})}),"\n",(0,i.jsx)(n.p,{children:"Compare this to what other modules require \u2014 manual CFrame management, a secondary Heartbeat connection to fix drift, and writing your own render loop:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"-- What you'd write with other modules\nlocal camCf: CFrame\nshake:BindToRenderStep(Shake.NextRenderName(), priority, function(pos, rot, isDone)\n    camCf = camera.CFrame\n    camera.CFrame *= CFrame.new(pos) * CFrame.Angles(rot.X, rot.Y, rot.Z)\nend)\nRunService.Heartbeat:Connect(function()\n    camera.CFrame = camCf -- required to prevent drift at high FPS\nend)\n"})}),"\n",(0,i.jsx)(n.p,{children:"SpringShaker handles render priority, camera application, and drift prevention internally. Nothing to configure."}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"custom-shakes",children:"Custom Shakes"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"local mortar = SpringShaker.new({\n    Magnitude = 5,\n    Roughness = 5,\n    FadeInTime = 0,\n    FadeOutTime = 1.8,\n    Tension = 122,\n    Damping = 13,\n    RotationInfluence = Vector3.new(1.2, 0.5, 0.3),\n})\n\nSpringShaker:ShakeOnce(mortar)\n"})}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Parameter"}),(0,i.jsx)(n.th,{children:"Type"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Magnitude"}),(0,i.jsx)(n.td,{children:"number"}),(0,i.jsx)(n.td,{children:"Scale of the entire shake. Acts as amplitude."})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Roughness"}),(0,i.jsx)(n.td,{children:"number"}),(0,i.jsx)(n.td,{children:"Speed of the Perlin noise sampling."})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"FadeInTime"}),(0,i.jsx)(n.td,{children:"number"}),(0,i.jsx)(n.td,{children:"Seconds to reach full shake intensity."})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"FadeOutTime"}),(0,i.jsx)(n.td,{children:"number"}),(0,i.jsx)(n.td,{children:"Seconds to decay back to zero."})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Tension"}),(0,i.jsx)(n.td,{children:"number"}),(0,i.jsx)(n.td,{children:"Oscillation frequency \u2014 higher values = faster wobble."})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Damping"}),(0,i.jsx)(n.td,{children:"number"}),(0,i.jsx)(n.td,{children:"Resistance to oscillation \u2014 higher values = quicker ring-down."})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"RotationInfluence"}),(0,i.jsx)(n.td,{children:"Vector3"}),(0,i.jsx)(n.td,{children:"Per-axis rotation multiplier (pitch, yaw, roll)."})]})]})]}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsxs)(n.p,{children:["\u26a0\ufe0f Do not set Magnitude above ",(0,i.jsx)(n.code,{children:"10^5"}),". This risks ",(0,i.jsx)(n.a,{href:"https://en.wikipedia.org/wiki/Resonance",children:"Resonance"})," \u2014 SpringShaker will abort and warn if detected."]}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"presets",children:"Presets"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Preset"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Explosion"}),(0,i.jsx)(n.td,{children:"Violent initial shock that decays into heavy rumble"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Landmine"}),(0,i.jsx)(n.td,{children:"Sharp high-tension sting that stabilizes almost instantly"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Earthquake"}),(0,i.jsx)(n.td,{children:"Low-frequency rolling sway \u2014 ground liquefying feeling"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Resonance"}),(0,i.jsx)(n.td,{children:"Slow rhythmic wobble that builds over time"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Bounce"}),(0,i.jsx)(n.td,{children:"Soft fluid recoil with minimal roughness"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Vibration"}),(0,i.jsx)(n.td,{children:"Subtle continuous hum"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"ExplosiveBullet"}),(0,i.jsx)(n.td,{children:"Fast sharp crack of a nearby hit"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Rumble"}),(0,i.jsx)(n.td,{children:"Low persistent ground vibration"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Impact"}),(0,i.jsx)(n.td,{children:"Sudden blunt force with quick ring-down"})]})]})]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"performance",children:"Performance"}),"\n",(0,i.jsxs)(n.p,{children:["Benchmarked in Play mode with ",(0,i.jsx)(n.code,{children:"os.clock()"})," wrapping only the update cost per frame \u2014 camera application excluded for fairness."]}),"\n",(0,i.jsx)(n.h3,{id:"springshaker-native-vs-non-native",children:"SpringShaker native vs non-native"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Instances"}),(0,i.jsx)(n.th,{children:"Non-Native Avg"}),(0,i.jsx)(n.th,{children:"Non-Native Peak"}),(0,i.jsx)(n.th,{children:"Native Avg"}),(0,i.jsx)(n.th,{children:"Native Peak"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"1"}),(0,i.jsx)(n.td,{children:"0.0039ms"}),(0,i.jsx)(n.td,{children:"0.0237ms"}),(0,i.jsx)(n.td,{children:"0.004ms"}),(0,i.jsx)(n.td,{children:"0.015ms"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"10"}),(0,i.jsx)(n.td,{children:"0.0135ms"}),(0,i.jsx)(n.td,{children:"0.0516ms"}),(0,i.jsx)(n.td,{children:"0.013ms"}),(0,i.jsx)(n.td,{children:"0.056ms"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"50"}),(0,i.jsx)(n.td,{children:"0.0558ms"}),(0,i.jsx)(n.td,{children:"0.2506ms"}),(0,i.jsx)(n.td,{children:"0.056ms"}),(0,i.jsx)(n.td,{children:"0.134ms"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"100"}),(0,i.jsx)(n.td,{children:"0.1093ms"}),(0,i.jsx)(n.td,{children:"0.1956ms"}),(0,i.jsx)(n.td,{children:"0.110ms"}),(0,i.jsx)(n.td,{children:"0.161ms"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"250"}),(0,i.jsx)(n.td,{children:"0.2804ms"}),(0,i.jsx)(n.td,{children:"0.6637ms"}),(0,i.jsx)(n.td,{children:"0.282ms"}),(0,i.jsx)(n.td,{children:"0.422ms"})]})]})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"--!native"})," provides ~25x faster per-call performance and ~28% less peak memory at scale."]}),"\n",(0,i.jsxs)(n.h3,{id:"three-way-comparison-all-with---native",children:["Three-way comparison (all with ",(0,i.jsx)(n.code,{children:"--!native"}),")"]}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Instances"}),(0,i.jsx)(n.th,{children:"SpringShaker"}),(0,i.jsx)(n.th,{children:"RbxCameraShaker"}),(0,i.jsx)(n.th,{children:"Shake"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"1"}),(0,i.jsx)(n.td,{children:"0.0054ms"}),(0,i.jsx)(n.td,{children:"0.0062ms"}),(0,i.jsx)(n.td,{children:"0.0081ms"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"10"}),(0,i.jsx)(n.td,{children:"0.0199ms"}),(0,i.jsx)(n.td,{children:"0.0159ms"}),(0,i.jsx)(n.td,{children:"0.0130ms"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"50"}),(0,i.jsx)(n.td,{children:"0.0636ms"}),(0,i.jsx)(n.td,{children:"0.0518ms"}),(0,i.jsx)(n.td,{children:"0.0355ms"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"100"}),(0,i.jsx)(n.td,{children:"0.1199ms"}),(0,i.jsx)(n.td,{children:"0.1032ms"}),(0,i.jsx)(n.td,{children:"0.0566ms"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"250"}),(0,i.jsx)(n.td,{children:"0.2822ms"}),(0,i.jsx)(n.td,{children:"0.2385ms"}),(0,i.jsx)(n.td,{children:"0.1369ms"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"1000"}),(0,i.jsx)(n.td,{children:"~1.20ms"}),(0,i.jsx)(n.td,{children:"~0.88ms"}),(0,i.jsx)(n.td,{children:"~0.51ms"})]})]})]}),"\n",(0,i.jsx)(n.p,{children:"SpringShaker is the most physics-complete of the three at the cost of being the heaviest per frame. At 10 simultaneous instances \u2014 a realistic maximum for most games \u2014 total frame cost is under 0.02ms."}),"\n",(0,i.jsx)(n.h3,{id:"memory-at-1000-instances",children:"Memory at 1000 instances"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Module"}),(0,i.jsx)(n.th,{children:"Peak"}),(0,i.jsx)(n.th,{children:"Retained after GC"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"SpringShaker"}),(0,i.jsx)(n.td,{children:"~2.5MB"}),(0,i.jsx)(n.td,{children:"~0KB"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"RbxCameraShaker"}),(0,i.jsx)(n.td,{children:"~0.6MB"}),(0,i.jsx)(n.td,{children:"~925KB"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Shake"}),(0,i.jsx)(n.td,{children:"~0.6MB"}),(0,i.jsx)(n.td,{children:"~0KB"})]})]})]}),"\n",(0,i.jsx)(n.p,{children:"SpringShaker uses more peak memory due to richer physics state per instance, but releases everything completely on recycle. RbxCameraShaker retains ~925KB after GC consistently across multiple runs."}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"\u26a0\ufe0f SpringShaker has been stress tested up to 1,000,000 simultaneous instances. Please do not do this. 1\u201325 is a sensible maximum for any real game."}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"references",children:"References"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://www.desmos.com/calculator/r8iharhx3y",children:"Desmos \u2014 SpringShaker oscillator graph"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://en.wikipedia.org/wiki/Harmonic_oscillator#Damped_harmonic_oscillator",children:"Damped Harmonic Oscillator \u2014 Wikipedia"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://en.wikipedia.org/wiki/Resonance",children:"Resonance \u2014 Wikipedia"})}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"special-thanks",children:"Special Thanks"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.a,{href:"https://github.com/howmanysmall/Janitor/tree/main",children:"Janitor v1.18.3"})," by howmanysmall"]})]})}function o(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(c,{...e})}):c(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>d,x:()=>l});var r=s(6540);const i={},t=r.createContext(i);function d(e){const n=r.useContext(t);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:d(e.components),r.createElement(t.Provider,{value:n},e.children)}}}]);